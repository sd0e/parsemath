<!DOCTYPE html>
<html>
	<head>
		<title>parsemath Equation Tester</title>
		<script src="./parsemath.js" defer></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://latex.now.sh/style.min.css" />
	</head>
	<body>
		<script>
			window.newRowHtml = `
				<div class="row">
					<div class="col-4">
						<input type="text" placeholder="Variable Name" class="form-control" />
					</div>
					<div class="col">
						<input type="text" placeholder="Variable Value" class="form-control" />
					</div>
				</div>
			`
			
			window.submit = () => {
				let submissionVariables = {};
				
				const variables = document.getElementById('variables').children;
				for (var i = 0; i < variables.length; i++) {
					const variable = variables[i];
					const name = variable.firstElementChild.firstElementChild.value;
					const value = Number(variable.lastElementChild.firstElementChild.value);
					submissionVariables[name] = value;
				}
				
				document.getElementById('result').innerText = ParseMath(document.getElementById('math-input').value, true, submissionVariables);
			}
		</script>
		<h1>parsemath Equation Tester</h1>
		<div class="container">
			<div class="row">
				<div class="col">
					<input type="text" placeholder="Input any valid Math string" id="math-input" class="form-control" />
				</div>
				<div class="col-md-auto">
					<button type="button" class="btn btn-warning" onClick="window.submit();">Submit</button>
				</div>
			</div>
		</div>
		<br />
		<div class="container">
			<div class="row">
				<div class="col"><button type="button" class="btn btn-primary"
					onClick="document.getElementById('variables').insertAdjacentHTML('beforeend', window.newRowHtml)">Add
					Variable</button>
				</div>
			</div><br />
			<div id="variables">
				
			</div>
		</div>
		<br />
		<p id="result" style="color: black; font-weight: bold;"></p>
		<br />
		<a href="https://github.com/sd0e/parsemath" target="_blank" rel="nofollow">View the code and use the library on GitHub</a> 
	</body>
</html>
